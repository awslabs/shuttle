[package]
name = "shuttle"
version = "0.1.0"
authors = ["James Bornholt <bornholt@amazon.com>"]
edition = "2018"
license = "Apache-2.0"
description = "A library for testing concurrent Rust code"

publish = false

exclude = [
    "build/*"
]

[dependencies]
bitvec = "~0.19.2"
futures = "~0.3.5"
generator = "~0.6.22"
hex = "~0.4.2"
integer-encoding = "=1.1.5" # there's a bug in VarInt in >= 1.2
rand = { version = "~0.7.3", default-features = false, features = ["getrandom"] }
rand_pcg = "~0.2.1"
scoped-tls = "~1.0.0"
smallvec = "~1.2.0"
test-env-log = { version = "~0.2.2", default-features = false, features = ["trace"] }
tracing = "~0.1.21"
tracing-subscriber = "~0.2.12"

[dev-dependencies]
criterion = "~0.3.3"
regex = "~1.3.9"

[lib]
bench = false

[[bench]]
name = "lock"
harness = false

[[bench]]
name = "buffer"
harness = false

[[bench]]
name = "counter"
harness = false